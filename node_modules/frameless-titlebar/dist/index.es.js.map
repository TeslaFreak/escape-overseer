{"version":3,"file":"index.es.js","sources":["../src/TitleBar/Theme/index.js","../node_modules/style-inject/dist/style-inject.es.js","../src/TitleBar/MenuBar/MenuButton/index.js","../src/TitleBar/MenuBar/utils.js","../src/TitleBar/utils/icons.js","../src/TitleBar/MenuBar/MenuList/MenuItem/index.js","../src/TitleBar/utils/index.js","../src/TitleBar/MenuBar/MenuList/MenuListContainer/index.js","../src/TitleBar/MenuBar/MenuList/SubMenu/index.js","../src/TitleBar/MenuBar/MenuList/index.js","../src/TitleBar/MenuBar/index.js","../src/TitleBar/components/Bar.js","../src/TitleBar/components/Title.js","../src/TitleBar/components/ResizeHandle.js","../src/TitleBar/components/Icon.js","../src/TitleBar/components/Button/index.js","../src/TitleBar/WindowControls/index.js","../src/TitleBar/index.js"],"sourcesContent":["export const darkTheme = {\r\n  /* Title */\r\n  barTheme: 'dark', // light, dark\r\n  barHeight: '22px', // defines the bar height for mac os\r\n  winBarHeight: '28px', // defines the bar height for windows os\r\n  barColor: '#fff',\r\n  barTitleColor: 'inherit',\r\n  barBackgroundColor: '#24292e',\r\n  barShowBorder: false,\r\n  titleFontFamily: 'inherit',\r\n  titleFontWeight: 'normal',\r\n  barBorderBottom: '1px solid #000',\r\n  inActiveOpacity: 0.6, // dim menu bar & title color when window is not in focus\r\n  // should the icon be shown in the center of the toolbar on Mac/Linux apps alongside the app or title property\r\n  showIconDarwin: true,\r\n  /* Menu */\r\n  menuStyle: 'horizontal', // horizontal, vertical, stacked\r\n  menuDimItems: true, // dim other active menu items when menu list is open\r\n  menuDimOpacity: 0.6,\r\n  menuDisabledOpacity: 0.3,\r\n  menuMarginBottom: 10, // margin from bottom for max height\r\n  stackedMenuMarginRight: 200, // margin from right for max width\r\n  menuMaxWidth: 350, // max width of a menu list\r\n  menuBackgroundColor: '#fff',\r\n  menuItemHeight: '30px',\r\n  menuItemTextColor: '#fff',\r\n  menuItemHoverBackground: 'rgba(255,255,255,0.3)',\r\n  menuActiveTextColor: '#24292e',\r\n  menuTextHighlightColor: '#fff',\r\n  menuHighlightColor: '#0372ef',\r\n  accentStatusIcon: true,\r\n  menuSubLabelHeaders: true,\r\n  menuSubLabelColor: '#6a737d',\r\n  menuAcceleratorColor: '#6a737d',\r\n  menuShowBoxShadow: true,\r\n  menuBoxShadow: '0 1px 3px rgba(0,0,0,0.12), 0 1px 2px rgba(0,0,0,0.24)',\r\n  /* Menu Overlay */\r\n  menuOverlayBackground: 'black',\r\n  menuOverlayOpacity: 0.4,\r\n  menuSeparatorColor: '#e1e4e8',\r\n  /* WindowControls */\r\n  windowControlsColor: '#fff',\r\n  windowCloseHover: '#fff',\r\n  windowCloseBackground: '#e81123',\r\n  windowCloseActive: '#bf0f1d',\r\n  windowDefaultBackground: 'rgba(255,255,255,0.3)',\r\n  windowDefaultActive: 'rgba(255,255,255,0.2)',\r\n  controlsLayout: 'right', // window control placement for linux systems\r\n  linuxBorder: '1px solid rgba(0,0,0,0.06)', // linux window controls border color\r\n  linuxCloseBackground: '#c85458', // linux close button background color\r\n  linuxCloseColor: '#3b383d',\r\n  linuxCloseActive: '#C24A41',\r\n};\r\n\r\nexport const lightTheme = {\r\n  ...darkTheme,\r\n  /* Title */\r\n  barTheme: 'light',\r\n  barColor: '#24292e',\r\n  barBackgroundColor: '#e8e8e8',\r\n  barBorderBottom: '1px solid #d3d4d5',\r\n\r\n  /* Menu */\r\n  menuItemTextColor: '#24292e',\r\n  menuItemHoverBackground: 'rgba(0, 0, 0, 0.1)',\r\n\r\n  /* WindowControls */\r\n  windowControlsColor: '#000',\r\n  windowDefaultBackground: 'rgba(0, 0, 0, 0.1)',\r\n  windowDefaultActive: 'rgba(0, 0, 0, 0.2)'\r\n};\r\n","function styleInject(css, ref) {\n  if ( ref === void 0 ) ref = {};\n  var insertAt = ref.insertAt;\n\n  if (!css || typeof document === 'undefined') { return; }\n\n  var head = document.head || document.getElementsByTagName('head')[0];\n  var style = document.createElement('style');\n  style.type = 'text/css';\n\n  if (insertAt === 'top') {\n    if (head.firstChild) {\n      head.insertBefore(style, head.firstChild);\n    } else {\n      head.appendChild(style);\n    }\n  } else {\n    head.appendChild(style);\n  }\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nexport default styleInject;\n","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport css from './styles.css';\r\n\r\nconst styles = {\r\n  Wrapper: {\r\n    minWidth: 0,\r\n    flexShrink: 0,\r\n    height: '100%',\r\n    boxSizing: 'content-box',\r\n    outline: 'none'\r\n  },\r\n  Label: {\r\n    whiteSpace: 'nowrap',\r\n    maxWidth: 100,\r\n    textOverflow: 'ellipsis',\r\n    overflow: 'hidden'\r\n  },\r\n  ButtonWrapper: {\r\n    width: '100%',\r\n    height: '100%'\r\n  },\r\n  Button: {\r\n    WebkitAppearance: 'none',\r\n    border: 'none',\r\n    boxShadow: 'none',\r\n    background: 'transparent',\r\n    borderRadius: 0,\r\n    textAlign: 'left',\r\n    margin: 0,\r\n    padding: 0,\r\n    height: '100%',\r\n    width: '100%',\r\n    fontSize: 12,\r\n    paddingLeft: 10,\r\n    paddingRight: 10,\r\n    boxSizing: 'border-box',\r\n  }\r\n};\r\n\r\nexport default class MenuButton extends Component {\r\n  render() {\r\n    const {\r\n      onMouseEnter,\r\n      onMouseLeave,\r\n      onMouseOver,\r\n      onMouseMove,\r\n      onTouchStart,\r\n      onFocus,\r\n      onClick,\r\n      label,\r\n      open,\r\n      enabled,\r\n      hovering,\r\n      rectRef,\r\n      theme\r\n    } = this.props;\r\n\r\n    let backgroundColor = open ? theme.menuBackgroundColor : ((hovering && enabled) ? theme.menuItemHoverBackground : 'transparent');\r\n    let borderColor = open ? theme.menuBackgroundColor : '';\r\n    let color = open ? theme.menuActiveTextColor : theme.menuItemTextColor;\r\n    let opacity = enabled ? (((open || hovering) || !theme.menuDimItems) ? 1 : theme.menuDimOpacity) : theme.menuDisabledOpacity;\r\n\r\n    return (\r\n      <div\r\n        style={{...styles.Wrapper, ...this.props.style}}\r\n        onMouseEnter={onMouseEnter}\r\n        onMouseLeave={onMouseLeave}\r\n        onMouseOver={onMouseOver}\r\n        onMouseMove={onMouseMove}\r\n        onTouchStart={onTouchStart}\r\n        onFocus={onFocus}\r\n        onClick={onClick}\r\n        ref={rectRef}\r\n        tabIndex=\"-1\"\r\n        aria-haspopup={true}\r\n      >\r\n        {this.props.children}\r\n        <div\r\n          style={styles.ButtonWrapper}\r\n        >\r\n          <button\r\n            className={css.MenuButton}\r\n            style={{\r\n              ...styles.Button,\r\n              backgroundColor,\r\n              borderColor,\r\n              color\r\n            }}\r\n            tabIndex=\"-1\"\r\n          >\r\n            <div\r\n              style={{\r\n                opacity\r\n              }}\r\n            >\r\n              <span\r\n                style={{\r\n                  ...styles.Label\r\n                }}\r\n                aria-hidden=\"true\"\r\n              >\r\n                {label}\r\n              </span>\r\n            </div>\r\n          </button>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nMenuButton.propTypes = {\r\n  children: PropTypes.node,\r\n  enabled: PropTypes.bool,\r\n  label: PropTypes.oneOfType([\r\n    PropTypes.string,\r\n    PropTypes.node,\r\n  ]).isRequired,\r\n  open: PropTypes.bool,\r\n  closed: PropTypes.bool,\r\n  hovering: PropTypes.bool,\r\n  onMouseEnter: PropTypes.func,\r\n  onMouseLeave: PropTypes.func,\r\n  onMouseOver: PropTypes.func,\r\n  onMouseMove: PropTypes.func,\r\n  onTouchStart: PropTypes.func,\r\n  onFocus: PropTypes.func,\r\n  onClick: PropTypes.func,\r\n  rectRef: PropTypes.func\r\n};\r\n\r\nMenuButton.defaultProps = {\r\n  open: false,\r\n  closed: false,\r\n  hovering: false,\r\n  enabled: true,\r\n  onMouseEnter: () => {},\r\n  onMouseLeave: () => {},\r\n  onMouseOver: () => {},\r\n  onMouseMove: () => {},\r\n  onTouchStart: () => {},\r\n  onFocus: () => {},\r\n  onClick: () => {},\r\n  rectRef: () => {}\r\n};\r\n","import os from 'os';\r\n\r\nconst modifiers = [\r\n  'CommandOrControl',\r\n  'CmdOrCtrl'\r\n];\r\nconst CMD = 'âŒ˜';\r\nconst CTRL = 'Ctrl';\r\n\r\nconst topologicalSort = (original, graph) => {\r\n  // Sort items topologically using a depth-first approach\r\n  const sorted = [];\r\n  const visited = new Set();\r\n\r\n  const visit = (mark) => {\r\n    // if item visited return\r\n    if (visited.has(mark)) return;\r\n    // add item to list of visited nodes\r\n    visited.add(mark);\r\n    // get edges from graph for visited id\r\n    const edges = graph.get(mark);\r\n    if (edges != null) {\r\n      // visit each edge\r\n      edges.forEach(visit);\r\n    }\r\n    sorted.push(mark);\r\n  }\r\n\r\n  original.forEach(visit);\r\n  return sorted;\r\n};\r\n\r\nconst areValidTemplateItems = (template) => {\r\n  // validate the menu attributes\r\n  return template.every(item => {\r\n    if (item === null || typeof item !== 'object') {\r\n      return false;\r\n    }\r\n    return (item.hasOwnProperty('label') || item.type === 'separator')\r\n  });\r\n};\r\n\r\nconst addEdge = (graph, from, to) => {\r\n  if (!graph.has(from)) {\r\n    // create edge list from\r\n    graph.set(from, []);\r\n  }\r\n  // add to edge list from -> to\r\n  graph.get(from).push(to);\r\n};\r\n\r\nconst sortMenuItems = (menu) => {\r\n  const original = menu.map((item, i) => i);\r\n  const graph = new Map();\r\n  const idToIndex = new Map(menu.map((item, i) => [item.id, i]));\r\n  // add graph edges to perform topological sort\r\n  menu.forEach((item, i) => {\r\n    if (item.before) {\r\n      // get index from item before id\r\n      const to = idToIndex.get(item.before);\r\n      if (to != null) {\r\n        // add edge pointing from item before -> to current item\r\n        addEdge(graph, to, i);\r\n      }\r\n    }\r\n    if (item.after) {\r\n      // get index from item after id\r\n      const to = idToIndex.get(item.after);\r\n      if (to != null) {\r\n        // add edge from current item pointing -> to item after\r\n        addEdge(graph, i, to);\r\n      }\r\n    }\r\n  });\r\n  // sort edges\r\n  const sortedOrder = topologicalSort(original, graph);\r\n  // return sorted menu items\r\n  return sortedOrder.map(i => menu[i]);\r\n};\r\n\r\nconst sortMenu = (menu) => {\r\n  // sort menu and all submenus\r\n  const sorted = sortMenuItems(menu);\r\n  for (const id in sorted) {\r\n    if (Array.isArray(sorted[id].submenu)) {\r\n      // sort submenus\r\n      sorted[id].submenu = sortMenu(sorted[id].submenu);\r\n    }\r\n  }\r\n  return sorted;\r\n};\r\n\r\nexport const buildMenu = (menu) => {\r\n  if (!Array.isArray(menu)) {\r\n    throw new TypeError('Menu must be an array');\r\n  }\r\n  if (!areValidTemplateItems(menu)) {\r\n    throw new TypeError('MenuItem must have at least one of label, role or type');\r\n  }\r\n  return sortMenu(menu);\r\n};\r\n\r\nconst findMenuItemPath = (menu, path, id) => {\r\n  for (var i = 0; i < menu.length; i++) {\r\n    if (menu[i].id && menu[i].id === id) {\r\n      return { found: true, path: [...path, i] };\r\n    } else if ((menu[i].type && menu[i].type.toLowerCase() === 'submenu') ||\r\n      (menu.submenu && Array.isArray(menu.submenu))) {\r\n      return findMenuItemPath(menu, [...path, i, 'subemenu'], id);\r\n    }\r\n  }\r\n  return { found: false };\r\n};\r\n\r\nexport const getMenuItemPathById = (menu, id) => {\r\n  let menuPath = ['menu'];\r\n  for (var i = 0; i < menu.length; i++) {\r\n    if (menu[i].id === id) {\r\n      return [...menuPath, i];\r\n    } else if ((menu[i].type && menu[i].type.toLowerCase() === 'submenu') ||\r\n      (menu[i].submenu && Array.isArray(menu[i].submenu))) {\r\n      let { found, path } = findMenuItemPath(menu[i].submenu, [...menuPath, i, 'submenu'], id);\r\n      if (found) {\r\n        return [...path];\r\n      }\r\n    }\r\n  }\r\n  // no path was found\r\n  return [];\r\n}\r\n\r\nexport const parseAccelerator = (accelerator) => {\r\n  let re = new RegExp(modifiers.join('|'), 'gi');\r\n  return accelerator.replace(re, (matched) => {\r\n    return os.platform() === 'darwin' ? CMD : CTRL;\r\n  });\r\n};\r\n","import React from 'react';\r\n\r\nconst MenuIcon = (props) => (\r\n  <svg version=\"1.1\" width=\"24px\" height=\"24px\" viewBox=\"0 0 32 32\">\r\n    <path d=\"M 4 7 L 4 9 L 28 9 L 28 7 Z M 4 15 L 4 17 L 28 17 L 28 15 Z M 4 23 L 4 25 L 28 25 L 28 23 Z \"/>\r\n  </svg>\r\n);\r\n\r\n\r\nconst MimimizeIcon = (props) => {\r\n  return props.isWin ? (\r\n    <svg\r\n      version=\"1.1\"\r\n      aria-hidden=\"true\"\r\n      width=\"10\"\r\n      height=\"10\"\r\n    >\r\n      <path d=\"M 0,5 10,5 10,6 0,6 Z\" />\r\n    </svg>\r\n  ) : (\r\n    <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"16\" width=\"16\">\r\n      <path d=\"M7 3v4H4l3.156 4H4v2h8v-2H8.844L12 7H9V3z\" style={{marker: \"none\"}} overflow=\"visible\"/>\r\n      <text x=\"613.992\" y=\"426.851\" fontSize=\"14\" fontWeight=\"400\" opacity=\".8\" fontFamily=\"Bitstream Vera Sans\" transform=\"translate(-293 -188)\"/>\r\n      <text x=\"-1401.69\" y=\"1250.896\" fontSize=\"14\" fontWeight=\"400\" opacity=\".8\" fontFamily=\"Bitstream Vera Sans\" transform=\"translate(-293 -188)\"/>\r\n      <text x=\"-474.763\" y=\"195.667\" fontSize=\"14\" fontWeight=\"400\" opacity=\".8\" fontFamily=\"Bitstream Vera Sans\" transform=\"translate(-293 -188)\"/>\r\n      <text x=\"417.863\" y=\"-261.333\" fontSize=\"14\" fontWeight=\"400\" opacity=\".8\" fontFamily=\"Bitstream Vera Sans\" transform=\"translate(-293 -188)\"/>\r\n      <text x=\"444.346\" y=\"-306.364\" fontSize=\"14\" fontWeight=\"400\" opacity=\".8\" fontFamily=\"Bitstream Vera Sans\" transform=\"translate(-293 -188)\"/>\r\n      <text x=\"-1204.137\" y=\"-314.333\" fontSize=\"14\" fontWeight=\"400\" opacity=\".8\" fontFamily=\"Bitstream Vera Sans\" transform=\"translate(-293 -188)\"/>\r\n      <text x=\"410.171\" y=\"-616.333\" fontSize=\"14\" fontWeight=\"400\" opacity=\".8\" fontFamily=\"Bitstream Vera Sans\" transform=\"translate(-293 -188)\"/>\r\n      <text x=\"2052.752\" y=\"76.336\" fontSize=\"14\" fontWeight=\"400\" opacity=\".8\" fontFamily=\"Bitstream Vera Sans\" transform=\"translate(-293 -188)\"/>\r\n      <text x=\"2079.236\" y=\"31.305\" fontSize=\"14\" fontWeight=\"400\" opacity=\".8\" fontFamily=\"Bitstream Vera Sans\" transform=\"translate(-293 -188)\"/>\r\n      <text x=\"430.752\" y=\"23.336\" fontSize=\"14\" fontWeight=\"400\" opacity=\".8\" fontFamily=\"Bitstream Vera Sans\" transform=\"translate(-293 -188)\"/>\r\n      <text x=\"2045.06\" y=\"-278.664\" fontSize=\"14\" fontWeight=\"400\" opacity=\".8\" fontFamily=\"Bitstream Vera Sans\" transform=\"translate(-293 -188)\"/>\r\n      <text x=\"-605.797\" y=\"-29.818\" fontSize=\"14\" fontWeight=\"400\" opacity=\".8\" fontFamily=\"Bitstream Vera Sans\" transform=\"translate(-293 -188)\"/>\r\n      <text x=\"-2621.479\" y=\"794.227\" fontSize=\"14\" fontWeight=\"400\" opacity=\".8\" fontFamily=\"Bitstream Vera Sans\" transform=\"translate(-293 -188)\"/>\r\n      <text x=\"-726.195\" y=\"896.876\" fontSize=\"14\" fontWeight=\"400\" opacity=\".8\" fontFamily=\"Bitstream Vera Sans\" transform=\"translate(-293 -188)\"/>\r\n    </svg>\r\n  );\r\n};\r\n\r\nconst RestoreIcon = (props) => {\r\n  return props.isWin ? (\r\n    <svg\r\n      version=\"1.1\"\r\n      aria-hidden=\"true\"\r\n      width=\"10\"\r\n      height=\"10\"\r\n    >\r\n      <path\r\n        d=\"m 2,1e-5 0,2 -2,0 0,8 8,0 0,-2 2,0 0,-8 z m 1,1 6,0 0,6 -1,0 0,-5 -5,0 z m -2,2 6,0 0,6 -6,0 z\"\r\n      />\r\n    </svg>\r\n  ) : (\r\n    <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"16\" width=\"16\">\r\n      <g>\r\n        <path d=\"M14 8l-2.25-2.223 1.714-1.715c.013-.012.015-.013.027-.026.38-.42.379-1.068-.027-1.474a1.07 1.07 0 0 0-1.473-.053l-.214.214-1.554 1.527L8 2v6zM8 14V8H2l2.25 2.25-1.714 1.714-.027.027c-.38.42-.379 1.068.027 1.473.405.406 1.08.434 1.5.054l.187-.214 1.554-1.554z\" style={{marker: \"none\"}} overflow=\"visible\"/>\r\n      </g>\r\n    </svg>\r\n  )\r\n};\r\n\r\nconst MaximizeIcon = (props) => {\r\n  return props.isWin ? (\r\n    <svg\r\n      version=\"1.1\"\r\n      aria-hidden=\"true\"\r\n      width=\"10\"\r\n      height=\"10\"\r\n    >\r\n      <path\r\n        d=\"M 0,0 0,10 10,10 10,0 Z M 1,1 9,1 9,9 1,9 Z\"\r\n      />\r\n    </svg>\r\n  ) : (\r\n    <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"16\" width=\"16\">\r\n      <path d=\"M8 2l2.25 2.223-1.714 1.714-.027.027c-.38.42-.379 1.068.027 1.474a1.07 1.07 0 0 0 1.473.053l.214-.214 1.554-1.527L14 8V2zM2 8v6h6l-2.25-2.25 1.714-1.714.027-.027c.38-.42.379-1.068-.027-1.473-.405-.406-1.08-.434-1.5-.054l-.187.214-1.554 1.554z\" style={{marker: \"none\"}} overflow=\"visible\"/>\r\n    </svg>\r\n  );\r\n};\r\n\r\nconst CloseIcon = (props) => {\r\n  return props.isWin ? (\r\n    <svg\r\n      aria-hidden=\"true\"\r\n      version=\"1.1\"\r\n      width=\"10\"\r\n      height=\"10\"\r\n    >\r\n      <path d=\"M 0,0 0,0.7 4.3,5 0,9.3 0,10 0.7,10 5,5.7 9.3,10 10,10 10,9.3 5.7,5 10,0.7 10,0 9.3,0 5,4.3 0.7,0 Z\" />\r\n    </svg>\r\n  ) : (\r\n    <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"16\" width=\"16\">\r\n      <path d=\"M7.97 6.556L10.5 4 12 5.5 9.401 7.987 12 10.5 10.5 12 7.987 9.401 5.5 12 4 10.5 6.586 8 4 5.5 5.5 4l2.47 2.556z\" style={{marker: \"none\"}} overflow=\"visible\"/>\r\n    </svg>\r\n  )\r\n}\r\n\r\nconst checked = <svg width=\"1792\" height=\"1792\" viewBox=\"0 0 1792 1792\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M1671 566q0 40-28 68l-724 724-136 136q-28 28-68 28t-68-28l-136-136-362-362q-28-28-28-68t28-68l136-136q28-28 68-28t68 28l294 295 656-657q28-28 68-28t68 28l136 136q28 28 28 68z\" /></svg>;\r\nconst unchecked = <span />;\r\nconst radioUnchecked = <svg width=\"1792\" height=\"1792\" viewBox=\"0 0 1792 1792\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M896 352q-148 0-273 73t-198 198-73 273 73 273 198 198 273 73 273-73 198-198 73-273-73-273-198-198-273-73zm768 544q0 209-103 385.5t-279.5 279.5-385.5 103-385.5-103-279.5-279.5-103-385.5 103-385.5 279.5-279.5 385.5-103 385.5 103 279.5 279.5 103 385.5z\" /></svg>;\r\nconst radioChecked = <svg width=\"1792\" height=\"1792\" viewBox=\"0 0 1792 1792\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M1152 896q0 106-75 181t-181 75-181-75-75-181 75-181 181-75 181 75 75 181zm-256-544q-148 0-273 73t-198 198-73 273 73 273 198 198 273 73 273-73 198-198 73-273-73-273-198-198-273-73zm768 544q0 209-103 385.5t-279.5 279.5-385.5 103-385.5-103-279.5-279.5-103-385.5 103-385.5 279.5-279.5 385.5-103 385.5 103 279.5 279.5 103 385.5z\" /></svg>;\r\nconst arrow = <svg version=\"1.1\" width=\"24px\" height=\"24px\"><g id=\"Rounded\"><path d=\"M9.29,6.71L9.29,6.71c-0.39,0.39-0.39,1.02,0,1.41L13.17,12l-3.88,3.88c-0.39,0.39-0.39,1.02,0,1.41l0,0c0.39,0.39,1.02,0.39,1.41,0l4.59-4.59c0.39-0.39,0.39-1.02,0-1.41l-4.59-4.59C10.32,6.32,9.68,6.32,9.29,6.71z\" /></g></svg>;\r\n\r\nexport {\r\n  MenuIcon,\r\n  MimimizeIcon,\r\n  MaximizeIcon,\r\n  RestoreIcon,\r\n  CloseIcon,\r\n  checked,\r\n  unchecked,\r\n  radioChecked,\r\n  radioUnchecked,\r\n  arrow\r\n};\r\n","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { remote } from 'electron';\r\nimport css from './styles.css';\r\nimport { parseAccelerator } from '../../utils';\r\nimport { checked, unchecked, radioChecked, radioUnchecked, arrow } from '../../../utils/icons';\r\n\r\nconst styles = {\r\n  Container: {\r\n    position: 'static',\r\n    overflow: 'visible',\r\n    padding: 0,\r\n    transform: 'none',\r\n    display: 'flex',\r\n    cursor: 'default',\r\n  },\r\n  Wrapper: {\r\n    fontSize: 12,\r\n    padding: '0px 10px',\r\n    height: '30px',\r\n    color: 'inherit',\r\n    flex: '1 1 auto',\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    position: 'relative',\r\n    textDecoration: 'none',\r\n    cursor: 'default',\r\n  },\r\n  Label: {\r\n    flexGrow: 1,\r\n    marginLeft: 10,\r\n    marginRight: 10,\r\n    overflow: 'hidden',\r\n    textOverflow: 'ellipsis',\r\n    whiteSpace: 'nowrap',\r\n    cursor: 'default',\r\n    pointerEvents: 'none',\r\n  },\r\n  Accelerator: {\r\n    flexShrink: 0,\r\n    marginRight: 10\r\n  },\r\n  Separator: {\r\n    display: 'block',\r\n    width: '100%',\r\n    border: 'none',\r\n    height: 1\r\n  },\r\n  Icon: {\r\n    width: '100%',\r\n    height: '100%',\r\n    backgroundSize: 'contain',\r\n    backgroundPosition: 'center'\r\n  }\r\n}\r\n\r\nclass MenuItem extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      hovering: false\r\n    };\r\n    this._handleMouseEnter = this._handleMouseEnter.bind(this);\r\n    this._handleMouseLeave = this._handleMouseLeave.bind(this);\r\n    this._handleClick = this._handleClick.bind(this);\r\n  }\r\n\r\n  _handleMouseEnter(e) {\r\n    const {\r\n      menuItem\r\n    } = this.props;\r\n\r\n    if (menuItem.enabled === false) {\r\n      e.stopPropagation();\r\n      return;\r\n    }\r\n\r\n    this.setState({\r\n      hovering: true\r\n    });\r\n  }\r\n\r\n  _handleMouseLeave(e) {\r\n    const {\r\n      menuItem\r\n    } = this.props;\r\n\r\n    if (menuItem.enabled === false) {\r\n      e.stopPropagation();\r\n      return;\r\n    }\r\n\r\n    this.setState({\r\n      hovering: false\r\n    });\r\n  }\r\n\r\n  _handleClick(e) {\r\n    const {\r\n      menuItem,\r\n      changeCheckState,\r\n      path,\r\n      indx,\r\n    } = this.props;\r\n\r\n    if (menuItem.enabled === false) {\r\n      e.stopPropagation();\r\n      return;\r\n    }\r\n\r\n    switch (menuItem.type) {\r\n      case 'submenu': {\r\n        // stop propagation only when initial target is this item specifically\r\n        // e.stopPropagation(); \r\n        break;\r\n      }\r\n      case 'checkbox': {\r\n        e.persist();\r\n        const newMenuItem = {\r\n          ...menuItem,\r\n          checked: !menuItem.checked\r\n        };\r\n        menuItem.click(newMenuItem, remote.getCurrentWindow(), { ...e, menuBar: this.props.menuRef });\r\n        // TODO: Change Checked State\r\n        changeCheckState(path, indx, !menuItem.checked);\r\n        break;\r\n      }\r\n      case 'radio': {\r\n        // e.persist();\r\n        const newMenuItem = {\r\n          ...menuItem,\r\n          checked: true\r\n        };\r\n        menuItem.click(newMenuItem, remote.getCurrentWindow(), { ...e, menuBar: this.props.menuRef });\r\n        if (!menuItem.checked) {\r\n          // TODO: Change Checked State\r\n          changeCheckState(path, indx, true, true);\r\n        }\r\n        break;\r\n      }\r\n      default:\r\n        e.persist();\r\n        menuItem.click(this.props.menuItem, remote.getCurrentWindow(), { ...e, menuBar: this.props.menuRef });\r\n        break;\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      children,\r\n      menuItem,\r\n      theme\r\n    } = this.props;\r\n\r\n    const {\r\n      hovering\r\n    } = this.state;\r\n\r\n    const isSubMenu = (menuItem.type && menuItem.type.toLowerCase() === 'submenu');\r\n\r\n    if (menuItem.visible === false) {\r\n      return null;\r\n    }\r\n\r\n    if (menuItem.type && (menuItem.type.toLowerCase() === 'separator')) {\r\n      return (\r\n        <hr\r\n          style={{\r\n            ...styles.Separator,\r\n            borderBottom: `1px solid ${theme.menuSeparatorColor}`\r\n          }}\r\n        />\r\n      );\r\n    }\r\n\r\n    let statusIcon = <span />;\r\n\r\n    if (menuItem.type === 'radio') {\r\n      statusIcon = menuItem.checked ? radioChecked : radioUnchecked;\r\n    } else if (menuItem.type === 'checkbox') {\r\n      statusIcon = menuItem.checked ? checked : unchecked;\r\n    } else if (menuItem.icon) {\r\n      statusIcon = (\r\n        <div\r\n          style={{\r\n            ...styles.Icon,\r\n            backgroundImage: `url(${menuItem.icon})`\r\n          }}\r\n        />\r\n      );\r\n    }\r\n\r\n    return (\r\n      <li\r\n        ref={this.props.rectRef}\r\n        style={{\r\n          ...styles.Contianer,\r\n          color: hovering ? theme.menuTextHighlightColor : '',\r\n          opacity: menuItem.enabled ? '1' : '0.3',\r\n          backgroundColor: hovering ? theme.menuHighlightColor : ''\r\n        }}\r\n        onMouseEnter={this._handleMouseEnter}\r\n        onMouseLeave={this._handleMouseLeave}\r\n        onClick={this._handleClick}\r\n        role=\"option\"\r\n      >\r\n        <a style={{...styles.Wrapper, height: theme.menuItemHeight}}>\r\n          <div\r\n            className={css.StatusIcon}\r\n            style={{\r\n              color: hovering ? theme.menuTextHighlightColor : (theme.accentStatusIcon ? theme.menuHighlightColor : theme.menuActiveTextColor)\r\n            }}\r\n          >\r\n            {statusIcon}\r\n          </div>\r\n          <span style={styles.Label}>\r\n            {menuItem.label}\r\n          </span>\r\n          <span\r\n            style={{\r\n              ...styles.Accelerator,\r\n              color: hovering ? theme.menuTextHighlightColor : theme.menuAcceleratorColor\r\n            }}\r\n          >\r\n            {parseAccelerator(menuItem.accelerator)}\r\n          </span>\r\n          {\r\n            (isSubMenu) &&\r\n            <div\r\n              className={css.SubMenuArrow}\r\n            >\r\n              {arrow}\r\n            </div>\r\n          }\r\n        </a>\r\n        {(isSubMenu && this.state.hovering) && children}\r\n      </li>\r\n    );\r\n  }\r\n}\r\n\r\nMenuItem.propTypes = {\r\n  menuItem: PropTypes.shape({\r\n    label: PropTypes.string,\r\n    enabled: PropTypes.bool,\r\n    checked: PropTypes.bool,\r\n    visible: PropTypes.bool,\r\n    type: PropTypes.oneOf([\r\n      'normal',\r\n      'separator',\r\n      'submenu',\r\n      'checkbox',\r\n      'radio'\r\n    ]),\r\n    click: PropTypes.func\r\n  }),\r\n  children: PropTypes.node,\r\n  indx: PropTypes.number,\r\n  changeCheckState: PropTypes.func\r\n};\r\n\r\nMenuItem.defaultProps = {\r\n  menuItem: {\r\n    id: '',\r\n    enabled: true,\r\n    label: '',\r\n    checked: false,\r\n    visible: true,\r\n    type: 'normal',\r\n    accelerator: '',\r\n    position: ''\r\n  },\r\n  children: null,\r\n  indx: 0,\r\n  changeCheckState: () => {}\r\n};\r\n\r\nexport default MenuItem;\r\n","import isEqual from 'lodash.isequal';\r\n\r\nexport const debounce = (func, wait, immediate) => {\r\n  var timeout;\r\n  return function() {\r\n    var context = this, args = arguments;\r\n    var later = function() {\r\n      if (!immediate) func.apply(context, args);\r\n    };\r\n    var callNow = immediate && !timeout;\r\n    clearTimeout(timeout);\r\n    timeout = setTimeout(later, wait);\r\n    if (callNow) func.apply(context, args);\r\n  };\r\n};\r\n\r\nexport const getProperty = (path, obj) => path.reduce((xs, x) => (xs && xs[x]) ? xs[x] : null, obj);\r\n\r\nexport const reduxSet = (obj, path, val) => {\r\n  const [prop, ...restPath] = path;\r\n  if (typeof prop === 'undefined') {\r\n    if (!isEqual(obj, val)) {\r\n      return val;\r\n    }\r\n    return obj;\r\n  }\r\n  let before;\r\n  if (prop in obj) {\r\n    before = obj[prop];\r\n  } else {\r\n    before = {};\r\n  }\r\n  const after = reduxSet(before, restPath, val);\r\n  if (after !== before) {\r\n    let result;\r\n    if (Array.isArray(obj)) {\r\n      result = obj.slice();\r\n      result[prop] = after;\r\n    } else {\r\n      result = {\r\n        ...obj,\r\n        [prop]: after\r\n      };\r\n    }\r\n    return result;\r\n  }\r\n  return obj;\r\n};\r\n\r\nexport const defaultMenuItem = {\r\n  id: '',\r\n  enabled: true,\r\n  label: '',\r\n  checked: false,\r\n  visible: true,\r\n  type: 'normal',\r\n  accelerator: '',\r\n  position: '',\r\n  submenu: [],\r\n  click: () => {}\r\n};\r\n\r\nexport const darkTheme = {\r\n  /* Title */\r\n  barTheme: 'dark', // light, dark\r\n  barHeight: '22px', // Change this value if you set 'titleBarStyle' to 'hiddenInset'\r\n  winBarHeight: '28px',\r\n  barColor: '#fff',\r\n  barTitleColor: 'inherit',\r\n  barBackgroundColor: '#24292e',\r\n  barShowBorder: false,\r\n  barBorderBottom: '1px solid #000',\r\n  // should the icon be shown in the center of the toolbar on Mac/Linux apps alongside the app or title property\r\n  showIconDarwin: true,\r\n\r\n  /* Menu */\r\n  menuStyle: 'horizontal', // horizontal, vertical\r\n  menuDimItems: true,\r\n  menuDimOpacity: 0.6,\r\n  menuDisabledOpacity: 0.3,\r\n  menuBackgroundColor: '#fff',\r\n  menuItemTextColor: '#fff',\r\n  menuItemHoverBackground: 'rgba(255,255,255,0.3)',\r\n  menuActiveTextColor: '#24292e',\r\n  menuTextHighlightColor: '#fff',\r\n  menuHighlightColor: '#0372ef',\r\n  accentStatusIcon: false,\r\n  menuSubLabelHeaders: true,\r\n  menuSubLabelColor: '#6a737d',\r\n  menuAcceleratorColor: '#6a737d',\r\n  menuShowBoxShadow: true,\r\n  menuBoxShadow: '0 1px 3px rgba(0,0,0,0.12), 0 1px 2px rgba(0,0,0,0.24)',\r\n  /* Menu Overlay */\r\n  menuOverlayBackground: 'black',\r\n  menuOverlayOpacity: 0.4,\r\n  menuSeparatorColor: '#e1e4e8',\r\n\r\n  /* WindowControls */\r\n  windowControlsColor: '#fff',\r\n  windowCloseHover: '#fff',\r\n  windowCloseBackground: '#e81123',\r\n  windowCloseActive: '#bf0f1d',\r\n  windowDefaultBackground: 'rgba(255,255,255,0.3)',\r\n  windowDefaultActive: 'rgba(255,255,255,0.2)',\r\n};\r\n\r\nexport const lightTheme = {\r\n  ...darkTheme,\r\n  /* Title */\r\n  barTheme: 'light',\r\n  barColor: '#24292e',\r\n  barBackgroundColor: '#e8e8e8',\r\n  barBorderBottom: '1px solid #d3d4d5',\r\n\r\n  /* Menu */\r\n  menuItemTextColor: '#24292e',\r\n  menuItemHoverBackground: 'rgba(0, 0, 0, 0.1)',\r\n\r\n  /* WindowControls */\r\n  windowControlsColor: '#000',\r\n  windowDefaultBackground: 'rgba(0, 0, 0, 0.1)',\r\n  windowDefaultActive: 'rgba(0, 0, 0, 0.2)',\r\n};\r\n","import React, { Component } from 'react';\r\n\r\nconst styles = {\r\n  Container: {\r\n    position: 'absolute',\r\n    outline: 'none',\r\n    border: 'none',\r\n    zIndex: 2000,\r\n  },\r\n  ScrollView: {\r\n    overflow: 'hidden',\r\n  },\r\n  Menu: {\r\n    overflow: 'hidden',\r\n  },\r\n  Vertical: {\r\n    padding: '5px 0',\r\n    marginLeft: 0,\r\n    overflow: 'visible',\r\n    textAlign: 'left',\r\n    whiteSpace: 'nowrap',\r\n  },\r\n  Items: {\r\n    tabIndex: 0,\r\n    display: 'block',\r\n    margin: '0 auto',\r\n    padding: 0,\r\n    width: '100%',\r\n    justifyContent: 'flex-end',\r\n    listStyleType: 'none',\r\n  }\r\n}\r\n\r\nclass MenuListContainer extends Component {\r\n  \r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      activeDescendant: null,\r\n      top: 0,\r\n      left: 0,\r\n    };\r\n    this.handleFocus = this.handleFocus.bind(this);\r\n    this.setRef = this.setRef.bind(this);\r\n    this.setContent = this.setContent.bind(this);\r\n    this.onLayout = this.onLayout.bind(this);\r\n  }\r\n  \r\n  componentDidMount() {\r\n    if (this.state.activeDescendant) {\r\n      return;\r\n    }\r\n    this.focusFirstItem();\r\n    this.onLayout();\r\n  }\r\n\r\n  onLayout() {\r\n    const {\r\n      parentRef,\r\n      rect,\r\n      submenu\r\n    } = this.props;\r\n    let boundingRect = this.itemRef.getBoundingClientRect();\r\n    let top = 0;\r\n    let left = rect.left;\r\n\r\n    if (submenu) {\r\n      let parentRect = parentRef.getBoundingClientRect();    \r\n      // scroll view > scroll content > ul > li > this\r\n      var scrollTop = parentRef.parentNode.parentNode.parentNode.scrollTop; // get parent menu's scroll offset\r\n      top = parentRef.offsetTop - scrollTop;\r\n      left = parentRect.width;\r\n      if (window.innerWidth <= (parentRect.right + boundingRect.width)) {\r\n        top = parentRef.offsetTop + (parentRect.height / 3);\r\n        left = 10;\r\n      }\r\n    }\r\n\r\n    this.setState({\r\n      top,\r\n      left\r\n    });\r\n  }\r\n\r\n  setRef(ref) {\r\n    this.itemRef = ref;\r\n  }\r\n\r\n  setContent(ref) {\r\n    this.contentRef = ref;\r\n  }\r\n\r\n  handleFocus(e) {\r\n\r\n  }\r\n\r\n  focusFirstItem = () => {\r\n    this.setState({\r\n      activeDescendant: this.props.children[0]\r\n    });\r\n  };\r\n\r\n  handleScroll = (e) => {\r\n    var scrollTop = this.contentRef.scrollTop;\r\n    var scrollHeight = this.contentRef.scrollHeight;\r\n    var height = this.contentRef.clientHeight;\r\n    var wheelDelta = e.deltaY;\r\n    var isDeltaPositive = wheelDelta > 0;\r\n    const step = 10; // scroll speed\r\n\r\n    if (isDeltaPositive && wheelDelta > scrollHeight - height - scrollTop) {\r\n      this.contentRef.scrollTop = scrollHeight;\r\n      return this.stopScrolling(e);\r\n    }\r\n    else if (!isDeltaPositive && -wheelDelta > scrollTop) {\r\n      this.contentRef.scrollTop = 0;\r\n      return this.stopScrolling(e);\r\n    } else {\r\n      this.contentRef.scrollTop += wheelDelta > 0 ? step : -step;\r\n      return this.stopScrolling(e);\r\n    }\r\n  };\r\n\r\n  stopScrolling = (e) => {\r\n    e.stopPropagation();\r\n    e.preventDefault();\r\n    e.returnValue = false;\r\n    return false;\r\n  };\r\n\r\n  render() {\r\n    const { theme } = this.props;\r\n    const maxHeight = Math.max(10, window.innerHeight - (this.itemRef && this.itemRef.getBoundingClientRect().top || 0) - theme.menuMarginBottom);\r\n    const maxWidth = Math.min(window.innerHeight, window.innerWidth - (this.itemRef && this.itemRef.getBoundingClientRect().left || 0));\r\n    const {\r\n      top,\r\n      left\r\n    } = this.state;\r\n\r\n    return (\r\n      <div\r\n        ref={this.setRef}\r\n        style={{\r\n          ...styles.Container,\r\n          left: left,\r\n          top: top,\r\n          color: theme.menuActiveTextColor\r\n        }}\r\n      >\r\n        <div\r\n          style={{\r\n            ...styles.ScrollView,\r\n            background: theme.menuBackgroundColor,\r\n            boxShadow: theme.menuShowBoxShadow ? theme.menuBoxShadow : ''\r\n          }}\r\n        >\r\n          <div\r\n            onWheel={this.handleScroll}\r\n            ref={this.setContent}\r\n            style={{\r\n              ...styles.Menu,\r\n              maxHeight,\r\n              maxWidth,\r\n            }}\r\n          >\r\n            <div\r\n              style={styles.Vertical}\r\n            >\r\n              <ul\r\n                style={{\r\n                  ...styles.Items\r\n                }}\r\n              >\r\n                {this.props.children}\r\n              </ul>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default MenuListContainer;","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport MenuItem from '../MenuItem';\r\nimport { defaultMenuItem } from '../../../utils';\r\nimport MenuListContainer from '../MenuListContainer';\r\n\r\nexport const SubMenuLabelStyle = {\r\n  height: '20px',\r\n  lineHeight: '20px',\r\n  margin: '0px 10px',\r\n  fontWeight: 'bold',\r\n  overflow: 'hidden',\r\n  textOverflow: 'ellipsis',\r\n  whiteSpace: 'nowrap',\r\n  direction: 'rtl',\r\n  fontSize: '1em',\r\n  textAlign: 'left',\r\n  cursor: 'default',\r\n};\r\n\r\nclass SubMenu extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this._generateMenu = this._generateMenu.bind(this);\r\n    this.setRef = this.setRef.bind(this);\r\n  }\r\n\r\n  setRef(ref) {\r\n    this.itemRef = ref;\r\n  }\r\n\r\n  _generateMenu(menu = []) {\r\n    const { theme } = this.props;\r\n    return menu.map((menuItem, i) => {\r\n      if (menuItem.submenu) {\r\n        return (\r\n          <SubMenu\r\n            key={`${i}${menuItem.label}`}\r\n            theme={theme}\r\n            menuRef={this.props.menuRef}\r\n            changeCheckState={this.props.changeCheckState}\r\n            menuItem={{ ...defaultMenuItem, ...menuItem, type: 'submenu' }}\r\n            path={[...this.props.path, i, 'submenu']}\r\n          />\r\n        );\r\n      }\r\n\r\n      return (\r\n        <MenuItem\r\n          indx={i}\r\n          key={`${i}${menuItem.label}`}\r\n          theme={theme}\r\n          changeCheckState={this.props.changeCheckState}\r\n          menuItem={{ ...defaultMenuItem, ...menuItem }}\r\n          menuRef={this.props.menuRef}\r\n          path={[...this.props.path]}\r\n        />\r\n      );\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      menuItem,\r\n      // renderSide,\r\n      theme\r\n    } = this.props;\r\n\r\n    return (\r\n      <MenuItem\r\n        rectRef={this.setRef}\r\n        menu={this.props.menu}\r\n        theme={theme}\r\n        menuItem={{ ...defaultMenuItem, ...menuItem }}\r\n      >\r\n        <MenuListContainer\r\n          theme={theme}\r\n          parentRef={this.itemRef}\r\n          rect={this.itemRef && this.itemRef.getBoundingClientRect()}\r\n          submenu\r\n        >\r\n          {\r\n            theme.menuSubLabelHeaders &&\r\n            <div\r\n              style={{\r\n                ...SubMenuLabelStyle,\r\n                color: theme.menuSubLabelColor\r\n              }}\r\n            >\r\n              {menuItem.label}\r\n            </div>\r\n          }\r\n          {\r\n            this._generateMenu(menuItem.submenu)\r\n          }\r\n        </MenuListContainer>\r\n      </MenuItem>\r\n    );\r\n  }\r\n}\r\n\r\nSubMenu.propTypes = {\r\n  menuItem: PropTypes.object,\r\n  level: PropTypes.number,\r\n  renderSide: PropTypes.string,\r\n  changeCheckState: PropTypes.func\r\n};\r\n\r\nSubMenu.defaultProps = {\r\n  menuItem: {},\r\n  level: 1,\r\n  renderSide: 'right',\r\n  changeCheckState: () => {}\r\n};\r\n\r\nexport default SubMenu;\r\n","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport MenuItem from './MenuItem';\r\nimport SubMenu, { SubMenuLabelStyle } from './SubMenu';\r\nimport { defaultMenuItem } from '../../utils';\r\nimport css from './styles.css';\r\nimport MenuListContainer from './MenuListContainer';\r\n\r\nconst styles = {\r\n  Wrapper: {\r\n    zIndex: 8,\r\n    position: 'absolute',\r\n    overflow: 'hidden',\r\n    left: 0,\r\n    top: 0,\r\n    right: 0,\r\n    bottom: 0\r\n  },\r\n  Overlay: {\r\n    position: 'absolute',\r\n    top: 0,\r\n    bottom: 0,\r\n    left: 0,\r\n    right: 0,\r\n  },\r\n  FoldOut: {\r\n    background: 'transparent',\r\n    position: 'absolute',\r\n    top: 0,\r\n    bottom: 0,\r\n    left: 0\r\n  },\r\n  MenuPane: {\r\n    pointerEvents: 'all',\r\n    listStyleType: 'none',\r\n    margin: 0,\r\n    padding: 0,\r\n  },\r\n  MenuFoldOut: {\r\n    paddingTop: 5,\r\n    paddingBottom: 5\r\n  }\r\n}\r\n\r\nclass MenuList extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this._generateMenu = this._generateMenu.bind(this);\r\n  }\r\n\r\n  _generateMenu(menu = []) {\r\n    const { theme, parentRef } = this.props;\r\n    const rect = parentRef.getBoundingClientRect();\r\n    return menu.map((menuItem, i) => {\r\n      if (menuItem.submenu || (menuItem.type && menuItem.type.toLowerCase() === 'submenu')) {\r\n        return (\r\n          <SubMenu\r\n            key={`${i}${menuItem.label}`}\r\n            parentRect={rect}\r\n            theme={theme}\r\n            menuRef={this.props.menuRef}\r\n            changeCheckState={this.props.changeCheckState}\r\n            menuItem={{ ...defaultMenuItem, ...menuItem, type: 'submenu' }}\r\n            path={this.props.vertical ? [...this.props.path, i, 'submenu'] : [...this.props.path, 'submenu', i, 'submenu']}\r\n          />\r\n        );\r\n      }\r\n      return (\r\n        <MenuItem\r\n          key={`${i}${menuItem.label}`}\r\n          menuItem={{ ...defaultMenuItem, ...menuItem }}\r\n          changeCheckState={this.props.changeCheckState}\r\n          menuRef={this.props.menuRef}\r\n          theme={theme}\r\n          indx={i}\r\n          path={this.props.vertical ? [...this.props.path] : [...this.props.path, 'submenu']}\r\n        />\r\n      );\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      submenu,\r\n      theme\r\n    } = this.props;\r\n\r\n    const rect = this.props.parentRef.getBoundingClientRect();\r\n\r\n    return (\r\n      <div\r\n        style={{\r\n          ...styles.Wrapper,\r\n          top: rect.bottom\r\n        }}\r\n      >\r\n        <div\r\n          className={css.MenuListOverlay}\r\n          style={{\r\n            ...styles.Overlay,\r\n            background: theme.menuOverlayBackground,\r\n            opacity: theme.menuOverlayOpacity\r\n          }}\r\n          tabIndex=\"-1\"\r\n        />\r\n        <MenuListContainer\r\n          theme={theme}\r\n          rect={rect}\r\n        >\r\n          {\r\n            (theme.menuStyle === 'vertical' && theme.menuSubLabelHeaders) &&\r\n              <div\r\n                style={{\r\n                  ...SubMenuLabelStyle,\r\n                  color: theme.menuSubLabelColor\r\n                }}\r\n                key=\"main-menu-sublabel\"\r\n              >\r\n                Menu\r\n              </div>\r\n          }\r\n          {this._generateMenu(submenu)}\r\n        </MenuListContainer>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nMenuList.propTypes = {\r\n  submenu: PropTypes.array,\r\n  path: PropTypes.array,\r\n  changeCheckState: PropTypes.func\r\n};\r\n\r\nMenuList.defaultProps = {\r\n  submenu: [],\r\n  path: [],\r\n  changeCheckState: () => {}\r\n};\r\n\r\nexport default MenuList;\r\n","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport MenuButton from './MenuButton';\r\nimport MenuList from './MenuList';\r\nimport { reduxSet, getProperty, debounce } from '../utils';\r\nimport { buildMenu, getMenuItemPathById } from './utils';\r\nimport { MenuIcon } from '../utils/icons';\r\n\r\nconst styles = {\r\n  Wrapper: {\r\n    height: '100%',\r\n    display: 'flex',\r\n    WebkitAppRegion: 'no-drag',\r\n    flexDirection: 'row',\r\n    flexWrap: 'wrap',\r\n    flexShrink: 1,\r\n    boxSizing: 'border-box'\r\n  }\r\n};\r\n\r\nclass MenuBar extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      hovering: -1,\r\n      focusing: 0,\r\n      clicked: false,\r\n      menu: buildMenu(props.menu),\r\n      overflowMenu: [],\r\n      overflowIndex: props.menu.length || 0,\r\n    };\r\n\r\n    this._onMenuButtonMouseOver = this._onMenuButtonMouseOver.bind(this);\r\n    this._onTouchStart = this._onTouchStart.bind(this);\r\n    this._onMouseMove = this._onMouseMove.bind(this);\r\n    this._onMenuButtonClick = this._onMenuButtonClick.bind(this);\r\n    this._setMenuRef = this._setMenuRef.bind(this);\r\n    this._changeCheckState = this._changeCheckState.bind(this);\r\n    this._generateHorizontalMenu = this._generateHorizontalMenu.bind(this);\r\n    this._generateVerticalMenu = this._generateVerticalMenu.bind(this);\r\n    this._setKeyByPath = this._setKeyByPath.bind(this);\r\n    this._getKeyByPath = this._getKeyByPath.bind(this);\r\n    this.setKeyById = this.setKeyById.bind(this);\r\n    this.getKeyById = this.getKeyById.bind(this);\r\n    this.numMenusShown = 0;\r\n    this.menuItems = [];\r\n    this.resizeDebounce = debounce(this.updateMenu, 16);\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.updateMenu();\r\n    window.addEventListener('resize', this.resizeDebounce);\r\n  }\r\n\r\n  componentWillUnmount(){\r\n    window.removeEventListener('resize', this.resizeDebounce);\r\n  }\r\n\r\n  componentWillReceiveProps(nextProps) {\r\n    if (nextProps.inActive !== this.props.inActive) {\r\n      // on blur\r\n      this.setState({\r\n        clicked: false,\r\n        focusing: -1,\r\n      });\r\n    }\r\n    if (nextProps.menu !== this.state.menu) {\r\n      this.setState({\r\n        menu: buildMenu(nextProps.menu)\r\n      });\r\n    }\r\n  }\r\n\r\n  setKeyById(id, key, val) {\r\n    // get path to id\r\n    let path = getMenuItemPathById(this.state.menu, id);\r\n    if (path.length > 0) {\r\n      this._setKeyByPath(path, key, val);\r\n    }\r\n  }\r\n\r\n  getKeyById(id, key) {\r\n    let path = getMenuItemPathById(this.state.menu, id);\r\n    if (path.length > 0) {\r\n      return this._getKeyByPath([...path], key);\r\n    }\r\n  }\r\n\r\n  // if hovering over another button while menu is clicked; change focus\r\n  _onMenuButtonMouseOver(i) {\r\n    if (this.state.clicked) {\r\n      this.setState({\r\n        focusing: i\r\n      });\r\n    }\r\n  }\r\n\r\n  // lock set to true to keep menu panes open\r\n  _onTouchStart(i) {\r\n    if (i !== this.state.focusing && this.state.clicked) {\r\n      this.lock = true;\r\n    }\r\n  }\r\n\r\n  // if moving over a different menu button - select that menu button\r\n  _onMouseMove(i) {\r\n    if (i === this.state.focusing) return;\r\n    this.setState({\r\n      focusing: i\r\n    });\r\n  }\r\n\r\n  // when a menu button is clicked\r\n  _onMenuButtonClick(index) {\r\n    if (this.lock) {\r\n      this.lock = false;\r\n      return;\r\n    }\r\n    this.setState({\r\n      clicked: !(this.state.focusing === index && this.state.clicked),\r\n      hovering: !(this.state.focusing === index && this.state.clicked) ? this.state.hovering : -1\r\n    });\r\n  }\r\n\r\n  // we need the rect's bounds for the child menu pane\r\n  _setMenuRef(ref, i) {\r\n    if (this.menuItems) {\r\n      this.menuItems[i] = ref;\r\n    } else {\r\n      this.menuItems = { [i]: ref };\r\n    }\r\n  }\r\n\r\n  // path: to current submenu\r\n  // checked: new state\r\n  _changeCheckState(path, itemIndx, checked, isRadio = false) {\r\n    if (!isRadio) {\r\n      this._setKeyByPath([...path, itemIndx], 'checked', checked);\r\n    } else {\r\n      let newState = { ...this.state };\r\n      getProperty(path, this.state).forEach((menuItem, indx) => {\r\n        if (menuItem.type === 'radio') {\r\n          newState = reduxSet(newState, [...path, indx, 'checked'], indx === itemIndx);\r\n        }\r\n      });\r\n      this.setState(newState);\r\n    }\r\n  }\r\n\r\n  _setKeyByPath(path, key, val) {\r\n    this.setState(reduxSet(this.state, [...path, key], val));\r\n  }\r\n\r\n  _getKeyByPath(path, key) {\r\n    // if key is undefined -> the getKeyById will just return the menu item\r\n    return getProperty(key ? [...path, key] : [...path], this.state);\r\n  }\r\n\r\n  get menuBarWidth() {\r\n    return this.menuBar.clientWidth;\r\n  }\r\n\r\n  get menuBarHeight() {\r\n\t\treturn this.menuBar.clientHeight;\r\n  }\r\n\r\n  get hasOverflow() {\r\n    return this.numMenusShown < this.menuItems.length;\r\n  }\r\n\r\n\tget getWidth() {\r\n\t\tif (this.menuItems) {\r\n\t\t\tconst left = this.menuItems[0].buttonElement.getBoundingClientRect().left;\r\n\t\t\tconst right = this.hasOverflow ? this.overflowMenu.buttonElement.getBoundingClientRect().right : this.menuItems[this.menuItems.length - 1].getBoundingClientRect().right;\r\n\t\t\treturn right - left;\r\n    }\r\n    \r\n\t\treturn 0;\r\n  }\r\n  \r\n  get getOverflowIndex() {\r\n    return this.hasOverflow ? this.overflowIndex : this.menuItems.length - 1;\r\n  }\r\n\r\n  updateMenu = () => {\r\n    requestAnimationFrame(() => {\r\n      if (this.state.clicked || this.state.focusing >= 0) {\r\n        this.setState({\r\n          clicked: false,\r\n          focusing: -1,\r\n        })\r\n      }\r\n      if (!this.menuItems || !this.menuItems.length) {\r\n        return;\r\n      }\r\n\r\n      const availableSize = this.menuBar.offsetWidth;\r\n      let currentSize = 0;\r\n      let full = false;\r\n      const prevNumMenusShown = this.numMenusShown;\r\n      this.numMenusShown = 0;\r\n\r\n      this.menuItems.forEach((menuItem) => {\r\n        if (!full) {\r\n          const size = menuItem.offsetWidth;\r\n          if (currentSize + size > availableSize) {\r\n            full = true;\r\n          } else {\r\n            currentSize += size;\r\n            this.numMenusShown += 1;\r\n            if (this.numMenusShown > prevNumMenusShown) {\r\n              // show previously hidden overflown element\r\n              menuItem.style.visibility = 'visible';\r\n            }\r\n          }\r\n          if (full) {\r\n            // hide overflown item\r\n            menuItem.style.visibility = 'hidden';\r\n          }\r\n        }\r\n      });\r\n\r\n      // we have overflow\r\n      if (full) {\r\n        // remove buttons until we can fit the more button\r\n        while(currentSize + this.overflowButtonRef.offsetWidth > availableSize && this.numMenusShown > 0) {\r\n            this.numMenusShown -= 1;\r\n            const size = this.menuItems[this.numMenusShown].offsetWidth;\r\n            this.menuItems[this.numMenusShown].style.visibility = 'hidden';\r\n            currentSize -= size;\r\n        }\r\n  \r\n        // update overflow menu\r\n        this.setState({\r\n          overflowMenu: [...this.state.menu.slice(this.numMenusShown, this.state.menu.length)],\r\n          overflowIndex: this.numMenusShown,\r\n        });\r\n      } else {\r\n        this.setState({\r\n          overflowMenu: [],\r\n          overflowIndex: this.menuItems.length\r\n        })\r\n      }\r\n    });\r\n  }\r\n\r\n  _generateHorizontalMenu(menuObj = []) {\r\n    const { overflowIndex, overflowMenu } = this.state;\r\n    const menuList = menuObj.map((menuItem, i) => {\r\n      return (\r\n        <MenuButton\r\n          key={`${menuItem.label}`}\r\n          onMouseEnter={() => {\r\n            if (menuItem.enabled === false) return;\r\n            this.setState({\r\n              hovering: i\r\n            });\r\n          }}\r\n          onMouseLeave={() => {\r\n            if (menuItem.enabled === false) return;\r\n            this.setState({\r\n              hovering: -1\r\n            });\r\n          }}\r\n          onMouseOver={() => {\r\n            if (menuItem.enabled === false) return;\r\n            this._onMenuButtonMouseOver(i);\r\n          }}\r\n          onMouseMove={() => {\r\n            if (menuItem.enabled === false) return;\r\n            this._onMouseMove(i);\r\n          }}\r\n          onTouchStart={() => {\r\n            if (menuItem.enabled === false) return;\r\n            this._onTouchStart(i);\r\n          }}\r\n          onClick={() => {\r\n            if (menuItem.enabled === false) return;\r\n            this._onMenuButtonClick(i);\r\n          }}\r\n          rectRef={(ref) => this._setMenuRef(ref, i)}\r\n          hovering={i === this.state.hovering}\r\n          open={this.state.clicked && i === this.state.focusing}\r\n          closed={!this.state.clicked || i !== this.state.focusing}\r\n          enabled={menuItem.enabled}\r\n          label={menuItem.label}\r\n          theme={this.props.theme}\r\n        >\r\n          {\r\n            (this.state.clicked && i === this.state.focusing) &&\r\n              <MenuList\r\n                menuRef={this}\r\n                changeCheckState={this._changeCheckState}\r\n                theme={this.props.theme}\r\n                parentRef={this.menuItems[i]}\r\n                submenu={menuItem.submenu}\r\n                mainIndex={i}\r\n                path={['menu', i]}\r\n              />\r\n          }\r\n        </MenuButton>\r\n      );\r\n    });\r\n\r\n    // insert overflow button if needed\r\n    menuList.splice(overflowIndex, 0, (\r\n      <MenuButton\r\n        key=\"more\"\r\n        label=\"...\"\r\n        onMouseEnter={() => {\r\n          this.setState({\r\n            hovering: overflowIndex\r\n          });\r\n        }}\r\n        onMouseLeave={() => {\r\n          this.setState({\r\n            hovering: -1\r\n          });\r\n        }}\r\n        onMouseOver={() => {\r\n          this._onMenuButtonMouseOver(overflowIndex);\r\n        }}\r\n        onMouseMove={() => {\r\n          this._onMouseMove(overflowIndex);\r\n        }}\r\n        onTouchStart={() => {\r\n          this._onTouchStart(overflowIndex);\r\n        }}\r\n        onClick={() => {\r\n          this._onMenuButtonClick(overflowIndex);\r\n        }}\r\n        rectRef={(ref) => this.overflowButtonRef = ref}\r\n        hovering={overflowIndex === this.state.hovering}\r\n        open={this.state.clicked && overflowIndex === this.state.focusing}\r\n        closed={!this.state.clicked || overflowIndex !== this.state.focusing}\r\n        style={{visibility: this.hasOverflow ? 'visible' : 'hidden'}}\r\n        theme={this.props.theme}\r\n      >\r\n        {\r\n          (this.state.clicked && overflowIndex === this.state.focusing) &&\r\n            <MenuList\r\n              menuRef={this}\r\n              changeCheckState={this._changeCheckState}\r\n              parentRef={this.overflowButtonRef}\r\n              submenu={overflowMenu}\r\n              theme={this.props.theme}\r\n              path={['menu']}\r\n              vertical\r\n            />\r\n        }\r\n      </MenuButton>\r\n    ));\r\n\r\n    return menuList;\r\n  }\r\n\r\n  _generateVerticalMenu(menuList = []) {\r\n    return (\r\n      <MenuButton\r\n        onMouseEnter={() => {\r\n          this.setState({\r\n            hovering: 0,\r\n          });\r\n        }}\r\n        onMouseLeave={() => {\r\n          this.setState({\r\n            hovering: -1,\r\n          });\r\n        }}\r\n        onMouseOver={() => {\r\n          this._onMenuButtonMouseOver(0);\r\n        }}\r\n        onMouseMove={() => {\r\n          this._onMouseMove(0);\r\n        }}\r\n        onTouchStart={() => {\r\n          this._onTouchStart(0);\r\n        }}\r\n        onClick={() => {\r\n          this._onMenuButtonClick(0);\r\n        }}\r\n        onFocus={() => {\r\n          // idk - linting says it needs it? it has no purpose for me\r\n        }}\r\n        theme={this.props.theme}\r\n        rectRef={(ref) => this._setMenuRef(ref, 0)}\r\n        hovering={this.state.hovering === 0}\r\n        open={this.state.clicked && this.state.focusing === 0}\r\n        closed={!this.state.clicked || this.state.focusing !== 0}\r\n        label={<MenuIcon />}\r\n        enabled\r\n      >\r\n        {\r\n          (this.state.clicked && this.state.focusing === 0) &&\r\n            <MenuList\r\n              menuRef={this}\r\n              changeCheckState={this._changeCheckState}\r\n              parentRef={this.menuItems[0]}\r\n              theme={this.props.theme}\r\n              submenu={menuList}\r\n              path={['menu']}\r\n              vertical\r\n            />\r\n        }\r\n      </MenuButton>\r\n    );\r\n  }\r\n\r\n  render() {\r\n    let { theme, inActive } = this.props;\r\n    let color = theme.menuItemTextColor || theme.barColor;\r\n    let opacity = inActive ? theme.inActiveOpacity : 1;\r\n    let marginRight = theme.menuStyle === 'stacked' ? theme.stackedMenuMarginRight : undefined;\r\n    return (\r\n      <div\r\n        ref={r => this.menuBar = r}\r\n        style={{ ...styles.Wrapper, color, opacity, marginRight }}\r\n        role=\"menubar\"\r\n      >\r\n        {\r\n          (theme.menuStyle === 'vertical')\r\n            ? this._generateVerticalMenu(this.state.menu)\r\n            : this._generateHorizontalMenu(this.state.menu)\r\n        }\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nMenuBar.propTypes = {\r\n  menu: PropTypes.array,\r\n  inActive: PropTypes.bool\r\n};\r\n\r\nMenuBar.defaultProps = {\r\n  menu: []\r\n};\r\n\r\nexport default MenuBar;\r\n","import React from 'react';\r\nimport electron from 'electron';\r\n\r\nconst styles = {\r\n  Bar: {\r\n    flexGrow: 0,\r\n    flexShrink: 0,\r\n    display: 'flex',\r\n    flexDirection: 'row',\r\n    fontSize: '12px',\r\n    WebkitAppRegion: 'drag',\r\n    userSelect: 'none',\r\n    alignItems: 'center',\r\n    fontFamily: '-apple-system, BlinkMacSystemFont, \"Segoe UI\", \"Roboto\", \"Oxygen\", \"Ubuntu\", \"Cantarell\", \"Fira Sans\", \"Droid Sans\", \"Helvetica Neue\", Arial, sans-serif'\r\n  }\r\n};\r\n\r\nconst currentWindow = electron.remote.getCurrentWindow();\r\n\r\nclass Bar extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.handleDoubleClick = this.handleDoubleClick.bind(this);\r\n  }\r\n\r\n  handleDoubleClick(e) {\r\n    let winRect = currentWindow.getBounds();\r\n    let { workArea } = electron.screen.getDisplayNearestPoint({ x: winRect.x, y: winRect.y });\r\n    currentWindow.setBounds(workArea, true);\r\n  }\r\n\r\n  render() {\r\n    const { theme, children, isWin } = this.props;\r\n    let height = isWin ? theme.winBarHeight : theme.barHeight;\r\n    let backgroundColor = theme.barBackgroundColor;\r\n    let color = theme.barColor;\r\n    let padding = !isWin ? '0 70px' : 0;\r\n    let borderBottom = theme.barShowBorder ? theme.barBorderBottom : '';\r\n\r\n    return (\r\n      <div\r\n        style={{ ...styles.Bar, height, backgroundColor, color, borderBottom, padding }}\r\n        onDoubleClick={this.handleDoubleClick}\r\n      >\r\n        {children}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nBar.defaultProps = {\r\n  isWin: false\r\n}\r\n\r\nexport default Bar;\r\n","import React from 'react';\r\n\r\nconst styles = {\r\n  Title: {\r\n    flex: '0 1 auto',\r\n    fontSize: '12px',\r\n    overflow: 'hidden',\r\n    whiteSpace: 'nowrap',\r\n    textOverflow: 'ellipsis',\r\n  }\r\n};\r\n\r\nclass Title extends React.Component {\r\n  render() {\r\n    let { theme, isWin, children, flex, inActive, align } = this.props;\r\n    let lineHeight = isWin ? theme.winBarHeight : theme.barHeight;\r\n    let padding = isWin ? '0px 4px' : 0;\r\n    let color = theme.barTitleColor;\r\n    let fontFamily = theme.titleFontFamily;\r\n    let fontWeight = theme.titleFontWeight;\r\n    let opacity = inActive ? theme.inActiveOpacity : 1;\r\n    let marginLeft = (!isWin && theme.showIconDarwin) ? 0 : (align === 'left' ? 0 : 'auto');\r\n    let marginRight = align === 'center' ? 'auto' : 0;\r\n\r\n    return (\r\n      <div\r\n        style={{ ...styles.Title, marginLeft, marginRight, lineHeight, color, flex, fontFamily, fontWeight, opacity, padding }}\r\n      >\r\n        {children}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Title;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst styles = {\r\n  ResizeHandle: {\r\n    position: 'absolute',\r\n    top: 0,\r\n    left: 0,\r\n    WebkitAppRegion: 'no-drag'\r\n  },\r\n  ResizeLeft: {\r\n    width: '3px',\r\n  },\r\n  ResizeTop: {\r\n    width: '100%',\r\n    height: '3px'\r\n  }\r\n};\r\n\r\nclass ResizeHandle extends React.Component {\r\n  render() {\r\n    const { height, left } = this.props;\r\n    return (\r\n      <div\r\n        style={{ ...styles.ResizeHandle, ...(left ? styles.ResizeLeft : styles.ResizeTop), height }}\r\n      />\r\n    );\r\n  }\r\n}\r\n\r\nResizeHandle.defaultProps = {\r\n  left: PropTypes.bool,\r\n  top: PropTypes.bool\r\n};\r\n\r\nexport default ResizeHandle;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst styles = {\r\n  Icon: {\r\n    height: '16px',\r\n    width: '16px',\r\n    margin: '0px 6px'\r\n  }\r\n};\r\n\r\nclass Icon extends React.Component {\r\n  render() {\r\n    let { src, onIconClick, notWin } = this.props;\r\n    let marginLeft = notWin ? 'auto' : '6px';\r\n    return (\r\n      <img\r\n        src={src}\r\n        alt='app-icon'\r\n        onClick={onIconClick}\r\n        style={{...styles.Icon, marginLeft}}\r\n      />\r\n    );\r\n  }\r\n}\r\n\r\nIcon.defaultProps = {\r\n  src: PropTypes.string,\r\n  onIconClick: PropTypes.func\r\n};\r\n\r\nexport default Icon;\r\n","import React, { Component } from 'react';\r\nimport styles from './styles.css';\r\n\r\nconst style = {\r\n  Container: {\r\n    WebkitAppRegion: 'no-drag',\r\n    position: 'relative',\r\n    padding: 0,\r\n    margin: 0,\r\n    overflow: 'hidden',\r\n    boxShadow: 'none',\r\n    borderRadius: 0,\r\n    backgroundColor: 'transparent',\r\n    transition: 'background-color 0.25s ease',\r\n    opacity: 0.5,\r\n    boxSizing: 'content-box',\r\n  },\r\n  WindowsContainer: {\r\n    width: '46px',\r\n    height: '100%',\r\n  },\r\n  LinuxContainer: {\r\n    marginRight: '5px',\r\n    width: '16px',\r\n    height: '16px',\r\n    display: 'flex',\r\n    justifyContent: 'center',\r\n    alignContent: 'center',\r\n    borderRadius: '50%',\r\n  }\r\n}\r\n\r\nclass Button extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      hovering: false,\r\n      focused: false\r\n    };\r\n  }\r\n\r\n  toggleHover = () => {\r\n    this.setState({\r\n      hovering: !this.state.hovering\r\n    });\r\n  }\r\n\r\n  toggleFocus = () => {\r\n    this.setState({\r\n      focused: !this.state.focused\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      ariaLabel,\r\n      tabIndex,\r\n      disabled,\r\n      close,\r\n      onClick,\r\n      theme,\r\n      isWin,\r\n    } = this.props;\r\n\r\n    const {\r\n      hovering,\r\n      focused\r\n    } = this.state;\r\n\r\n    let backgroundColor = (!isWin && close) ? theme.linuxCloseBackground : 'transparent';\r\n    let opacity = (!isWin && close) ? 1 : 0.5;\r\n    let border = (!isWin) ? theme.linuxBorder : 'none';\r\n    let transition = 'background-color 0.25s ease';\r\n    let color = (!isWin && close) ? theme.linuxCloseColor : theme.windowControlsColor;\r\n    if (focused) {\r\n      opacity = 1;\r\n      color = (close ? theme.windowCloseHover : undefined);\r\n      backgroundColor = (close ? (isWin ? theme.windowCloseActive : theme.linuxCloseActive) : theme.windowDefaultActive);\r\n      transition = 'none';\r\n    } else if (hovering) {\r\n      opacity = 1;\r\n      color = (close ? theme.windowCloseHover : undefined);\r\n      backgroundColor = (close ? (isWin ? theme.windowCloseBackground : theme.linuxCloseBackground) : theme.windowDefaultBackground);\r\n    }\r\n\r\n    return (\r\n      <button\r\n        className={styles.FramelessTitlebarButton}\r\n        style={{\r\n          ...style.Container,\r\n          ...(isWin ? style.WindowsContainer : style.LinuxContainer),\r\n          backgroundColor,\r\n          opacity,\r\n          transition,\r\n          color,\r\n          border\r\n        }}\r\n        onFocus={this.toggleFocus}\r\n        onBlur={this.toggleFocus}\r\n        onMouseEnter={this.toggleHover}\r\n        onMouseLeave={this.toggleHover}\r\n        onClick={onClick}\r\n        aria-label={ariaLabel}\r\n        tabIndex={tabIndex}\r\n        disabled={disabled}\r\n      >\r\n        {this.props.children}\r\n      </button>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Button;\r\n","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport electron from 'electron';\r\nimport {\r\n  Button\r\n} from '../components';\r\nimport {\r\n  MimimizeIcon,\r\n  MaximizeIcon,\r\n  RestoreIcon,\r\n  CloseIcon\r\n} from '../utils/icons';\r\n\r\nconst currentWindow = electron.remote.getCurrentWindow();\r\n\r\nconst styles = {\r\n  Container: {\r\n    flexGrow: 0,\r\n    flexShrink: 0,\r\n    marginLeft: 'auto',\r\n    fontFamily: 'initial',\r\n    position: 'relative',\r\n    display: 'flex',\r\n    flexDirection: 'row',\r\n    zIndex: 2000,\r\n    alignItems: 'center',\r\n    boxSizing: 'border-box',\r\n    height: '100%',\r\n  },\r\n  ControlsContainer: {\r\n    position: 'relative',\r\n    display: 'flex',\r\n    flexDirection: 'row',\r\n    height: '100%',\r\n    alignItems: 'center'\r\n  },\r\n  ActionsContainer: {\r\n    position: 'relative',\r\n    display: 'flex',\r\n    flexDirection: 'row',\r\n  }\r\n}\r\n\r\nexport default class WindowControls extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      isMaximized: currentWindow.isMaximized()\r\n    };\r\n    this.onMaximizeClicked = this.onMaximizeClicked.bind(this);\r\n    this.onMinimizeClicked = this.onMinimizeClicked.bind(this);\r\n    this.onCloseClicked = this.onCloseClicked.bind(this);\r\n    this.handleMaximize = this.handleMaximize.bind(this);\r\n    this.handleUnMaximize = this.handleUnMaximize.bind(this);\r\n    this.setMaximized = this.setMaximized.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    currentWindow.on('maximize', this.handleMaximize);\r\n    currentWindow.on('unmaximize', this.handleUnMaximize);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    currentWindow.removeListener('maximize', this.handleMaximize);\r\n    currentWindow.removeListener('unmaximize', this.handleUnMaximize);\r\n  }\r\n\r\n  get isMinimizable() {\r\n    const { disableMinimize } = this.props;\r\n    return (!disableMinimize || !currentWindow.isMinimizable());\r\n  }\r\n\r\n  get isMaximizable() {\r\n    const { disableMaximize } = this.props;\r\n    return (!disableMaximize || !currentWindow.isResizable() || !currentWindow.isMaximizable());\r\n  }\r\n\r\n  handleUnMaximize() {\r\n    this.setMaximized(false);\r\n  }\r\n\r\n  handleMaximize() {\r\n    this.setMaximized(true);\r\n  }\r\n\r\n  setMaximized(isMaximized) {\r\n    this.setState({ isMaximized });\r\n  }\r\n\r\n  onMaximizeClicked(e) {\r\n    e.target.blur();\r\n    requestAnimationFrame(() => {\r\n      if (this.isMaximizable) {\r\n        if (currentWindow.isMaximized()) {\r\n          currentWindow.unmaximize();\r\n        } else {\r\n          currentWindow.maximize();\r\n        }\r\n      }\r\n    });\r\n  };\r\n\r\n  onMinimizeClicked(e) {\r\n    e.target.blur();\r\n    requestAnimationFrame(() => {\r\n      if (this.isMinimizable) {\r\n        currentWindow.minimize();\r\n      }\r\n    });\r\n  }\r\n\r\n  onCloseClicked(e) {\r\n    e.target.blur();\r\n    requestAnimationFrame(() => {\r\n      currentWindow.close();\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const { theme, isWin } = this.props;\r\n    const { isMaximized } = this.state;\r\n\r\n    return (\r\n      <div style={{...styles.Container, marginLeft: (isWin || (!isWin && theme.controlsLayout) === 'right') ? 'auto' : 0}}>\r\n        {\r\n          this.props.windowActions && (\r\n            <div style={styles.ActionsContainer}>\r\n              {this.props.windowActions}\r\n            </div>\r\n          )\r\n        }\r\n        <div style={styles.ControlsContainer}>\r\n          <Button\r\n            theme={theme}\r\n            key=\"min-button\"\r\n            ariaLabel=\"minimize\"\r\n            tabIndex=\"-1\"\r\n            disabled={!this.isMinimizable}\r\n            onClick={this.onMinimizeClicked}\r\n            isWin={isWin}\r\n          >\r\n            <MimimizeIcon isWin={isWin} />\r\n          </Button>\r\n          <Button\r\n            theme={theme}\r\n            key=\"max-button\"\r\n            ariaLabel=\"maximize\"\r\n            tabIndex=\"-1\"\r\n            disabled={!this.isMaximizable}\r\n            onClick={this.onMaximizeClicked}\r\n            isWin={isWin}\r\n          >\r\n            {\r\n              isMaximized ? <RestoreIcon isWin={isWin} /> : <MaximizeIcon isWin={isWin} />\r\n            }\r\n          </Button>\r\n          <Button\r\n            theme={theme}\r\n            key=\"close-button\"\r\n            aria-label=\"close\"\r\n            tabIndex=\"-1\"\r\n            onClick={this.onCloseClicked}\r\n            isWin={isWin}\r\n            close\r\n          >\r\n            <CloseIcon isWin={isWin} />\r\n          </Button>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nWindowControls.propTypes = {\r\n  disableMinimize: PropTypes.bool,\r\n  disableMaximize: PropTypes.bool\r\n};\r\n\r\nWindowControls.defaultProps = {\r\n  disableMinimize: false,\r\n  disableMaximize: false\r\n};\r\n","import React, { Component, Fragment } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { darkTheme, lightTheme } from './Theme';\r\nimport electron from 'electron';\r\nimport os from 'os';\r\nimport MenuBar from './MenuBar';\r\nimport WindowControls from './WindowControls';\r\nimport {\r\n  Bar,\r\n  Title,\r\n  ResizeHandle,\r\n  Icon\r\n} from './components';\r\n\r\nconst currentWindow = electron.remote.getCurrentWindow();\r\n\r\nclass TitleBar extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      inActive: !currentWindow.isFocused()\r\n    };\r\n    this.setKeyById = this.setKeyById.bind(this);\r\n    this.getKeyById = this.getKeyById.bind(this);\r\n    this._generatePlatformChildren = this._generatePlatformChildren.bind(this);\r\n    this._handleBlur = this._handleBlur.bind(this);\r\n    this._handleFocus = this._handleFocus.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    currentWindow.on('focus', this._handleFocus);\r\n    currentWindow.on('blur', this._handleBlur);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    currentWindow.removeListener('focus', this._handleFocus);\r\n    currentWindow.removeListener('blur', this._handleBlur);\r\n  }\r\n\r\n  _handleBlur() {\r\n    this._setInActive(true);\r\n  }\r\n\r\n  _handleFocus() {\r\n    this._setInActive(false);\r\n  }\r\n\r\n  _setInActive(inActive) {\r\n    this.setState({\r\n      inActive\r\n    });\r\n  }\r\n\r\n  setKeyById(id, key, value) {\r\n    return this.Menu.setKeyById(id, key, value);\r\n  }\r\n\r\n  getKeyById(id, key) {\r\n    return this.Menu.getKeyById(id, key);\r\n  }\r\n\r\n  _generatePlatformChildren({\r\n    icon,\r\n    app,\r\n    title,\r\n    platform,\r\n    menu,\r\n    children,\r\n    currentTheme,\r\n    disableMaximize,\r\n    disableMinimize,\r\n    windowActions,\r\n    inActive,\r\n  }) {\r\n\r\n    if (platform === 'darwin') {\r\n      return (\r\n        <Bar\r\n          theme={currentTheme}\r\n        >\r\n          <ResizeHandle top />\r\n          <ResizeHandle height={currentTheme.barHeight} left />\r\n          {\r\n            (icon && currentTheme.showIconDarwin) &&\r\n            <Icon\r\n              notWin\r\n              src={icon}\r\n            />\r\n          }\r\n          {\r\n            (title || app) &&\r\n            <Title\r\n              theme={currentTheme}\r\n              inActive={inActive}\r\n              align=\"center\"\r\n            >\r\n              {(title || app)}\r\n            </Title>\r\n          }\r\n          {children}\r\n        </Bar>\r\n      );\r\n    }\r\n\r\n    if (currentTheme.menuStyle === 'stacked') {\r\n      return (\r\n        <Fragment>\r\n          <Bar\r\n            isWin\r\n            inActive={inActive}\r\n            theme={currentTheme}\r\n          >\r\n            <ResizeHandle top />\r\n            <ResizeHandle height={currentTheme.winBarHeight} left />\r\n            {\r\n              (platform !== 'win32' && currentTheme.controlsLayout === 'left') &&\r\n              <WindowControls\r\n                isWin={platform === 'win32'}\r\n                theme={currentTheme}\r\n                disableMinimize={disableMinimize}\r\n                disableMaximize={disableMaximize}\r\n                windowActions={windowActions}\r\n              />\r\n            }\r\n            {\r\n              icon &&\r\n              <Icon\r\n                src={icon}\r\n              />\r\n            }\r\n            {\r\n              app &&\r\n              <Title\r\n                isWin\r\n                inActive={inActive}\r\n                theme={currentTheme}\r\n                align=\"left\"\r\n              >\r\n                {app}\r\n              </Title>\r\n            }\r\n            {\r\n              title &&\r\n              <Title\r\n                isWin\r\n                inActive={inActive}\r\n                theme={currentTheme}\r\n                align=\"center\"\r\n              >\r\n                {title}\r\n              </Title>\r\n            }\r\n            {children}\r\n            {\r\n              (platform === 'win32' || (platform !== 'win32' && currentTheme.controlsLayout === 'right')) &&\r\n              <WindowControls\r\n                isWin={platform === 'win32'}\r\n                theme={currentTheme}\r\n                disableMinimize={disableMinimize}\r\n                disableMaximize={disableMaximize}\r\n                windowActions={windowActions}\r\n              />\r\n            }\r\n          </Bar>\r\n          <Bar\r\n            isWin\r\n            inActive={inActive}\r\n            theme={currentTheme}\r\n          >\r\n            <MenuBar\r\n              ref={r => { this.Menu = r; }}\r\n              inActive={inActive}\r\n              theme={currentTheme}\r\n              menu={menu}\r\n            />\r\n          </Bar>\r\n        </Fragment>\r\n      );\r\n    }\r\n\r\n    return (\r\n      <Bar\r\n        isWin\r\n        inActive={inActive}\r\n        theme={currentTheme}\r\n      >\r\n        <ResizeHandle top />\r\n        <ResizeHandle height={currentTheme.winBarHeight} left />\r\n        {\r\n          (platform !== 'win32' && currentTheme.controlsLayout === 'left') &&\r\n          <WindowControls\r\n            isWin={platform === 'win32'}\r\n            theme={currentTheme}\r\n            disableMinimize={disableMinimize}\r\n            disableMaximize={disableMaximize}\r\n            windowActions={windowActions}\r\n          />\r\n        }\r\n        {\r\n          currentTheme.menuStyle === 'vertical' &&\r\n            <MenuBar\r\n              ref={r => { this.Menu = r; }}\r\n              theme={currentTheme}\r\n              inActive={inActive}\r\n              menu={menu}\r\n            />\r\n        }\r\n        {\r\n          icon &&\r\n          <Icon\r\n            src={icon}\r\n          />\r\n        }\r\n        {\r\n          app &&\r\n          <Title\r\n            isWin\r\n            theme={currentTheme}\r\n            inActive={inActive}\r\n            align=\"left\"\r\n          >\r\n            {app}\r\n          </Title>\r\n        }\r\n        {\r\n          currentTheme.menuStyle === 'horizontal' &&\r\n            <MenuBar\r\n              ref={r => { this.Menu = r; }}\r\n              theme={currentTheme}\r\n              inActive={inActive}\r\n              menu={menu}\r\n            />\r\n        }\r\n        {\r\n          title &&\r\n          <Title\r\n            isWin\r\n            theme={currentTheme}\r\n            inActive={inActive}\r\n            align=\"center\"\r\n          >\r\n            {title}\r\n          </Title>\r\n        }\r\n        {children}\r\n        {\r\n          (platform === 'win32' || (platform !== 'win32' && currentTheme.controlsLayout === 'right')) &&\r\n          <WindowControls\r\n            isWin={platform === 'win32'}\r\n            theme={currentTheme}\r\n            disableMinimize={disableMinimize}\r\n            disableMaximize={disableMaximize}\r\n            windowActions={windowActions}\r\n          />\r\n        }\r\n      </Bar>\r\n    );\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      theme,\r\n      platform\r\n    } = this.props;\r\n\r\n    const {\r\n      inActive\r\n    } = this.state;\r\n\r\n    const currentTheme = {\r\n      ...(theme.barTheme === 'light' ? lightTheme : darkTheme),\r\n      ...theme\r\n    };\r\n\r\n    return this._generatePlatformChildren({\r\n      ...this.props,\r\n      currentTheme,\r\n      inActive,\r\n      platform: platform === 'default' ? os.platform() : (platform || os.platform())\r\n    });\r\n  }\r\n}\r\n\r\nTitleBar.propTypes = {\r\n  children: PropTypes.node,\r\n  icon: PropTypes.string,\r\n  title: PropTypes.string,\r\n  platform: PropTypes.string,\r\n  theme: PropTypes.object,\r\n  /* Menu */\r\n  menu: PropTypes.array,\r\n  /* Window */\r\n  disableMinimize: PropTypes.bool,\r\n  disableMaximize: PropTypes.bool\r\n};\r\n\r\nTitleBar.defaultProps = {\r\n  children: null,\r\n\r\n  /* Main */\r\n  icon: '',\r\n  name: '',\r\n  title: '',\r\n  platform: '',\r\n  theme: {},\r\n\r\n  /* WindowControls */\r\n  disableMinimize: false,\r\n  disableMaximize: false,\r\n\r\n  /* Menu */\r\n  menu: []\r\n};\r\n\r\nexport default TitleBar;\r\n"],"names":["darkTheme","lightTheme","styles","MenuButton","props","onMouseEnter","onMouseLeave","onMouseOver","onMouseMove","onTouchStart","onFocus","onClick","label","open","enabled","hovering","rectRef","theme","backgroundColor","menuBackgroundColor","menuItemHoverBackground","borderColor","color","menuActiveTextColor","menuItemTextColor","opacity","menuDimItems","menuDimOpacity","menuDisabledOpacity","Wrapper","style","children","ButtonWrapper","css","Button","Label","Component","propTypes","PropTypes","node","bool","oneOfType","string","isRequired","func","defaultProps","modifiers","CMD","CTRL","topologicalSort","original","graph","sorted","visited","Set","visit","mark","has","add","edges","get","forEach","push","areValidTemplateItems","template","every","item","hasOwnProperty","type","addEdge","from","to","set","sortMenuItems","menu","map","i","Map","idToIndex","id","before","after","sortedOrder","sortMenu","Array","isArray","submenu","buildMenu","TypeError","findMenuItemPath","path","length","found","toLowerCase","getMenuItemPathById","menuPath","parseAccelerator","accelerator","re","RegExp","join","replace","matched","os","platform","MenuIcon","MimimizeIcon","isWin","marker","RestoreIcon","MaximizeIcon","CloseIcon","checked","unchecked","radioUnchecked","radioChecked","arrow","MenuItem","state","_handleMouseEnter","bind","_handleMouseLeave","_handleClick","e","menuItem","stopPropagation","setState","changeCheckState","indx","persist","newMenuItem","click","remote","getCurrentWindow","menuBar","menuRef","isSubMenu","visible","Separator","menuSeparatorColor","statusIcon","icon","Icon","Contianer","menuTextHighlightColor","menuHighlightColor","height","menuItemHeight","StatusIcon","accentStatusIcon","Accelerator","menuAcceleratorColor","SubMenuArrow","shape","oneOf","number","debounce","wait","immediate","timeout","context","args","arguments","later","apply","callNow","setTimeout","getProperty","obj","reduce","xs","x","reduxSet","val","prop","restPath","isEqual","result","slice","defaultMenuItem","MenuListContainer","focusFirstItem","handleScroll","scrollTop","contentRef","scrollHeight","clientHeight","wheelDelta","deltaY","isDeltaPositive","step","stopScrolling","preventDefault","returnValue","handleFocus","setRef","setContent","onLayout","activeDescendant","parentRef","rect","boundingRect","itemRef","getBoundingClientRect","top","left","parentRect","parentNode","offsetTop","width","window","innerWidth","right","ref","maxHeight","Math","max","innerHeight","menuMarginBottom","maxWidth","min","Container","ScrollView","menuShowBoxShadow","menuBoxShadow","Menu","Vertical","Items","SubMenuLabelStyle","SubMenu","_generateMenu","menuSubLabelHeaders","menuSubLabelColor","object","MenuList","vertical","bottom","MenuListOverlay","Overlay","menuOverlayBackground","menuOverlayOpacity","menuStyle","array","MenuBar","updateMenu","clicked","focusing","menuItems","availableSize","offsetWidth","currentSize","full","prevNumMenusShown","numMenusShown","size","visibility","overflowButtonRef","_onMenuButtonMouseOver","_onTouchStart","_onMouseMove","_onMenuButtonClick","_setMenuRef","_changeCheckState","_generateHorizontalMenu","_generateVerticalMenu","_setKeyByPath","_getKeyByPath","setKeyById","getKeyById","resizeDebounce","addEventListener","removeEventListener","nextProps","inActive","key","lock","index","itemIndx","isRadio","newState","menuObj","overflowIndex","overflowMenu","menuList","splice","hasOverflow","barColor","inActiveOpacity","marginRight","stackedMenuMarginRight","undefined","r","clientWidth","buttonElement","currentWindow","electron","Bar","handleDoubleClick","winRect","getBounds","screen","getDisplayNearestPoint","y","workArea","setBounds","winBarHeight","barHeight","barBackgroundColor","padding","borderBottom","barShowBorder","barBorderBottom","React","Title","flex","align","lineHeight","barTitleColor","fontFamily","titleFontFamily","fontWeight","titleFontWeight","marginLeft","showIconDarwin","ResizeHandle","ResizeLeft","ResizeTop","src","onIconClick","notWin","toggleHover","toggleFocus","focused","ariaLabel","tabIndex","disabled","close","linuxCloseBackground","border","linuxBorder","transition","linuxCloseColor","windowControlsColor","windowCloseHover","windowCloseActive","linuxCloseActive","windowDefaultActive","windowCloseBackground","windowDefaultBackground","FramelessTitlebarButton","WindowsContainer","LinuxContainer","WindowControls","isMaximized","onMaximizeClicked","onMinimizeClicked","onCloseClicked","handleMaximize","handleUnMaximize","setMaximized","on","removeListener","target","blur","isMaximizable","unmaximize","maximize","isMinimizable","minimize","controlsLayout","windowActions","ActionsContainer","ControlsContainer","disableMinimize","disableMaximize","isResizable","TitleBar","isFocused","_generatePlatformChildren","_handleBlur","_handleFocus","_setInActive","value","app","title","currentTheme","barTheme"],"mappings":"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"}