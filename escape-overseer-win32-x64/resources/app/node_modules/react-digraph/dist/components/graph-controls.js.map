{"version":3,"sources":["../../src/components/graph-controls.js"],"names":["FaExpand","require","FaInfoCircle","steps","makeStyles","primary","controls","position","bottom","left","zIndex","display","gridTemplateColumns","gridGap","alignItems","sliderWrapper","backgroundColor","color","border","padding","borderRadius","slider","top","marginLeft","marginRight","cursor","button","outline","width","height","GraphControls","props","zoom","e","sliderVal","target","value","zoomLevelNext","sliderToZoom","delta","zoomLevel","maxZoom","minZoom","modifyZoom","state","styles","val","zoomToFit","zoomToSlider","propTypes","string","number","isRequired","func","defaultProps"],"mappings":"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","file":"graph-controls.js","sourcesContent":["// Copyright (c) 2016 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\n/*\n  Zoom slider and zoom to fit controls for GraphView\n*/\n\nimport React, {Component} from 'react';\nimport Radium from 'radium';\nimport PropTypes from 'prop-types';\n\n// Only old-style imports for react-icons seem to work with gulp\nconst FaExpand = require('react-icons/lib/fa/expand');\nconst FaInfoCircle = require('react-icons/lib/fa/info-circle');\n\n\n\nconst steps = 100; // Slider steps\n\n\n\nfunction makeStyles(primary){\n  return {\n    controls: {\n      position: 'absolute',\n      bottom: '30px',\n      left: '15px',\n      zIndex: 100,\n      display: 'grid',\n      gridTemplateColumns: 'auto auto',\n      gridGap: '15px',\n      alignItems: 'center'\n    },\n    sliderWrapper: {\n      backgroundColor: 'white',\n      color: primary,\n      border: `solid 1px lightgray`,\n      padding: '6.5px',\n      borderRadius: '2px'\n    },\n    slider: {\n      position: 'relative',\n      top: '6px',\n      marginLeft: 5,\n      marginRight: 5,\n      cursor: 'pointer'\n    },\n    button: {\n      backgroundColor: 'white',\n      color: primary,\n      border: `solid 1px lightgray`,\n      outline: 'none',\n      width: 31,\n      height: 31,\n      borderRadius: '2px',\n      cursor: 'pointer'\n    }\n  }\n}\n\n\n\nclass GraphControls extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      styles: makeStyles(props.primary)\n    }\n  }\n\n  // Convert slider val (0-steps) to original zoom value range\n  sliderToZoom(val){\n    return ((val) * (this.props.maxZoom - this.props.minZoom)/steps ) + this.props.minZoom\n  }\n\n  // Convert zoom val (minZoom-maxZoom) to slider range\n  zoomToSlider(val){\n    return (val - this.props.minZoom) * steps/(this.props.maxZoom - this.props.minZoom)\n  }\n\n  // Center graph-view on contents of svg > view\n  zoomToFit(){\n    this.props.zoomToFit();\n  }\n\n  // Modify current zoom of graph-view\n  zoom = (e) => {\n    let sliderVal = e.target.value;\n    let zoomLevelNext = this.sliderToZoom(sliderVal);\n    let delta = zoomLevelNext - this.props.zoomLevel;\n\n    if (zoomLevelNext <= this.props.maxZoom && zoomLevelNext >= this.props.minZoom) {\n      this.props.modifyZoom(delta);\n    }\n  };\n\n  render() {\n    const styles = this.state.styles;\n\n    return (\n      <div style={styles.controls} className=\"graphControls\">\n        <div style={styles.sliderWrapper}>\n          -\n          <input\n            type=\"range\"\n            style={styles.slider}\n            min={this.zoomToSlider(this.props.minZoom)}\n            max={this.zoomToSlider(this.props.maxZoom)}\n            value={this.zoomToSlider(this.props.zoomLevel)}\n            onChange={this.zoom}\n            step=\"1\"/>\n          +\n        </div>\n        <button style={styles.button} onMouseDown={this.props.zoomToFit}>\n          <FaExpand/>\n        </button>\n      </div>\n    );\n  }\n}\n\nGraphControls.propTypes = {\n  primary: PropTypes.string,\n  minZoom: PropTypes.number,\n  maxZoom: PropTypes.number,\n  zoomLevel: PropTypes.number.isRequired,\n  zoomToFit: PropTypes.func.isRequired,\n  modifyZoom: PropTypes.func.isRequired\n}\n\nGraphControls.defaultProps = {\n  primary: 'dodgerblue',\n  minZoom: 0.15,\n  maxZoom: 1.5\n}\n\nexport default Radium(GraphControls)\n"]}